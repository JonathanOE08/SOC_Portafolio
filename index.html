<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Portafolio SOC</title>

  <style>
    /* ===== Paleta y base ===== */
    :root{
      --bg1:#0b1026; --bg2:#0e1230;
      --glass:rgba(14,20,44,.9); --glass-2:rgba(18,24,52,.96);
      --line:rgba(115,160,170,.22); --line-2:rgba(115,160,170,.5);
      --text:#eaf3f5; --muted:#9fb0b7;
      --teal:#2de39c; --blue:#6aa9ff; --vio:#b88cff;
      --teal-s:rgba(45,227,156,.22); --blue-s:rgba(106,169,255,.16); --vio-s:rgba(184,140,255,.16);
      --radius:16px; --radius-lg:24px; --shadow:0 22px 60px rgba(0,0,0,.82);
      --speed:180ms;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,'Helvetica Neue',Arial,'Noto Sans',sans-serif;
      color:var(--text);
    }

    /* === Fondo canvas (INTACTO) === */
    #bg-canvas{
      position:fixed; inset:0; z-index:-1;
      background:linear-gradient(180deg,var(--bg2),var(--bg1));
    }

    .wrap{max-width:1200px;margin:auto;padding:0 20px}

    /* NAV minimal */
    .nav{
      position:sticky; top:0; z-index:40;
      backdrop-filter:saturate(130%) blur(10px);
      background:linear-gradient(180deg,rgba(10,14,30,.9),rgba(10,14,30,.35));
      border-bottom:1px solid var(--line);
    }
    .nav .row{
      height:62px; display:flex; align-items:center; justify-content:flex-start;
    }
    .brand{
      font-weight:900; letter-spacing:.16em; font-size:12px; text-transform:uppercase;
      opacity:.95;
    }

    /* HERO simple sin cuadro personal */
    header.hero{padding:78px 0 14px;}
    h1{
      font-size:52px; line-height:1.05; margin:0 0 10px; letter-spacing:-.9px;
      text-shadow:0 8px 40px rgba(0,0,0,.7);
    }
    .sub{
      color:var(--muted); max-width:820px; font-size:16px; line-height:1.55; margin:0;
    }

    /* ===== PLATAFORMAS ===== */
    .platforms{
      margin-top:26px;
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
      gap:14px;
    }
    .platform{
      position:relative;
      border-radius:20px;
      padding:16px;
      background:var(--glass);
      border:1px solid rgba(255,255,255,.09);
      box-shadow:var(--shadow);
      cursor:pointer;
      display:flex; gap:12px; align-items:flex-start;
      transition:transform var(--speed), border-color var(--speed), box-shadow var(--speed), opacity var(--speed);
      opacity:.92;
      overflow:hidden;
      min-height:110px;
    }
    .platform::before{
      content:'';
      position:absolute; inset:-60px;
      background:
        radial-gradient(circle at 0 0, rgba(45,227,156,.26), transparent 60%),
        radial-gradient(circle at 100% 100%, rgba(106,169,255,.24), transparent 60%);
      opacity:0; pointer-events:none; transition:opacity .2s;
    }
    .platform:hover{
      transform:translateY(-3px);
      border-color:var(--line-2);
      box-shadow:0 28px 70px rgba(0,0,0,.95);
      opacity:1;
    }
    .platform:hover::before{opacity:.95;}
    .platform.active{
      border-color:rgba(45,227,156,.9);
      box-shadow:0 30px 75px rgba(0,0,0,.98), 0 0 0 1px rgba(45,227,156,.45);
      opacity:1;
    }

    .platform-icon{
      width:46px;height:46px;border-radius:14px;
      display:flex;align-items:center;justify-content:center;
      font-size:20px;background:rgba(6,12,28,.95);
      border:1px solid rgba(255,255,255,.12);
      flex-shrink:0;
      overflow:hidden;
    }
    /* ✅ SOLO PARA QUE EL LOGO QUEDE SIMÉTRICO Y CENTRADO */
    .platform-icon img{
      width:100%;
      height:100%;
      object-fit:contain;
      object-position:center;
      display:block;
      margin:auto;
    }

    .platform-head{display:flex;flex-direction:column;gap:4px;}
    .platform-name{font-size:17px;font-weight:800;letter-spacing:.2px;}
    .platform-desc{font-size:13px;color:var(--muted);line-height:1.45;}
    .platform-meta{
      margin-top:6px; font-size:11px; color:var(--muted);
      display:flex; gap:6px; flex-wrap:wrap;
    }
    .chip{
      font-size:10px; text-transform:uppercase; letter-spacing:.12em;
      padding:4px 8px;border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background:rgba(8,14,34,.8);
    }

    /* ===== Categorías internas (Phishing / Web) ===== */
    .categories{
      margin-top:16px;
      display:flex; gap:8px; flex-wrap:wrap;
    }
    .cat-btn{
      appearance:none; border:none; cursor:pointer;
      padding:8px 12px; border-radius:999px; font-size:12px; font-weight:700;
      color:var(--text);
      background:rgba(8,14,34,.9);
      border:1px solid var(--line);
      transition:transform var(--speed), border-color var(--speed), background var(--speed), opacity var(--speed);
      opacity:.9;
    }
    .cat-btn:hover{transform:translateY(-1px);border-color:var(--line-2);opacity:1;}
    .cat-btn.active{
      background:linear-gradient(135deg,rgba(45,227,156,.18),rgba(8,14,34,.95));
      border-color:rgba(45,227,156,.85);
      box-shadow:0 0 0 1px rgba(45,227,156,.35);
      opacity:1;
    }

    /* ===== LISTA DE LABS ===== */
    .labs-section{
      margin-top:12px; margin-bottom:70px;
      border-radius:26px;
      padding:18px 18px 20px;
      background:
        radial-gradient(circle at 0 0,rgba(45,227,156,.12),transparent 50%),
        radial-gradient(circle at 100% 100%,rgba(106,169,255,.18),transparent 55%),
        var(--glass-2);
      box-shadow:0 26px 70px rgba(0,0,0,.9);
      border:1px solid rgba(255,255,255,.12);
      overflow:hidden;
    }
    .labs-header{
      display:flex; justify-content:space-between; align-items:center; margin-bottom:10px;
    }
    .labs-title{
      font-size:13px;text-transform:uppercase;letter-spacing:.18em;color:var(--muted);
    }
    .labs-count{font-size:12px;color:var(--muted);}

    .labs-grid{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
      gap:12px;
    }

    .lab-link{text-decoration:none;color:inherit;display:block;}
    .lab-card{
      position:relative;
      background:rgba(4,10,26,.96);
      border-radius:18px;
      border:1px solid rgba(255,255,255,.08);
      padding:12px 13px 12px;
      min-height:122px;
      transition:transform var(--speed), box-shadow var(--speed), border-color var(--speed), background var(--speed);
      overflow:hidden;
    }
    .lab-card::before{
      content:'';
      position:absolute; inset:-20px;
      background:linear-gradient(120deg,rgba(45,227,156,.45),transparent 40%,rgba(45,227,156,.18),transparent 80%);
      opacity:0; mix-blend-mode:screen; pointer-events:none; transition:opacity .18s;
    }
    .lab-card::after{
      content:'';
      position:absolute; left:0; right:0; top:0; height:3px;
      background:linear-gradient(90deg,rgba(45,227,156,.9),rgba(106,169,255,.5));
      opacity:.85;
    }
    .lab-card:hover{
      transform:translateY(-3px);
      box-shadow:0 20px 46px rgba(0,0,0,.9);
      border-color:rgba(45,227,156,.8);
      background:rgba(8,18,40,.98);
    }
    .lab-card:hover::before{opacity:.9;}

    .lab-top{
      display:flex; justify-content:space-between; align-items:center; gap:8px; margin-bottom:6px;
    }
    .lab-track{
      font-size:10px;color:var(--muted);text-transform:uppercase;letter-spacing:.18em;
    }
    .lab-level{
      font-size:10px;padding:3px 7px;border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background:rgba(8,14,34,.75);
      color:var(--muted);text-transform:uppercase;letter-spacing:.12em;
    }
    .lab-title{font-size:14px;font-weight:800;margin-bottom:6px;}
    .lab-summary{font-size:11px;color:var(--muted);line-height:1.35;}
    .lab-date{
      position:absolute; right:10px; bottom:8px;
      font-size:10px; color:var(--muted); opacity:.9;
    }
    .lab-cta{
      position:absolute; left:12px; bottom:8px;
      font-size:11px; font-weight:700; color:var(--teal);
      opacity:0; transform:translateY(4px);
      transition:opacity var(--speed), transform var(--speed);
    }
    .lab-card:hover .lab-cta{opacity:1; transform:translateY(0);}

    /* Estado vacío */
    .empty{
      color:var(--muted); font-size:14px; padding:12px;
      border:1px dashed rgba(255,255,255,.12);
      border-radius:12px; text-align:center;
      background:rgba(6,10,25,.8);
    }

    @media(max-width:900px){
      h1{font-size:42px;}
    }
  </style>
</head>
<body>

  <canvas id="bg-canvas"></canvas>

  <nav class="nav">
    <div class="wrap">
      <div class="row">
        <div class="brand">PORTAFOLIO SOC</div>
      </div>
    </div>
  </nav>

  <header class="hero">
    <div class="wrap">
      <h1>Portafolio SOC</h1>
      <p class="sub">
        Laboratorios resueltos con enfoque SOC. Estoy iniciando y documentando cada caso con análisis claro,
        evidencia.
      </p>

      <!-- PLATAFORMAS -->
      <section class="platforms" id="platforms">

        <div class="platform active" data-platform="LetsDefend">
          <div class="platform-icon">
            <img src="letsdefend.png" alt="LetsDefend">
          </div>
          <div class="platform-head">
            <div class="platform-name">LetsDefend</div>
            <div class="platform-desc">Laboratorios reales de SOC. Aquí están mis writeups actuales.</div>
            <div class="platform-meta">
              <span class="chip" id="count-LetsDefend">10 labs</span>
              <span class="chip">Phishing</span>
              <span class="chip">Web Attacks</span>
            </div>
          </div>
        </div>

        <!-- ✅ ARREGLADO: MISMO CONTENEDOR/PROPORCIÓN QUE LETSDEFEND -->
        <div class="platform" data-platform="TryHackMe">
          <div class="platform-icon">
            <img src="tryhackme.png" alt="TryHackMe">
          </div>
          <div class="platform-head">
            <div class="platform-name">TryHackMe</div>
            <div class="platform-desc">Próximamente. Empezaré a resolver rutas azules.</div>
            <div class="platform-meta">
              <span class="chip">0 labs</span>
              <span class="chip">Próximamente</span>
            </div>
          </div>
        </div>

        <!-- ✅ ARREGLADO: MISMO CONTENEDOR/PROPORCIÓN QUE LETSDEFEND -->
        <div class="platform" data-platform="BlueTeamLabs">
          <div class="platform-icon">
            <img src="blueteam.png" alt="Blue Team Labs">
          </div>
          <div class="platform-head">
            <div class="platform-name">Blue Team Labs</div>
            <div class="platform-desc">Próximamente. Hunting, SIEM y EDR.</div>
            <div class="platform-meta">
              <span class="chip">0 labs</span>
              <span class="chip">Próximamente</span>
            </div>
          </div>
        </div>

      </section>

      <!-- CATEGORÍAS (solo se ven en LetsDefend) -->
      <div class="categories" id="categories">
        <button class="cat-btn active" data-cat="Phishing">Phishing (5)</button>
        <button class="cat-btn" data-cat="WebAttacks">Ataques Web (5)</button>
      </div>

      <!-- LABS -->
      <section class="labs-section" id="labsSection">
        <div class="labs-header">
          <div class="labs-title" id="labsTitle">LABORATORIOS – LETSDEFEND · PHISHING</div>
          <div class="labs-count" id="labsCount">5 labs</div>
        </div>
        <div class="labs-grid" id="labsGrid"></div>
      </section>

    </div>
  </header>

  <script>
    // ===== DATA =====
    // IMPORTANTE: reemplaza link:"#"
    const DATA = {
      LetsDefend: {
        Phishing: [
          {
            title:"93 - SOC146 - Correo de phishing detectado - Macros de Excel",
            level:"Intermediate",
            date:"2025-11-21",
            link:"93-macrosexcel.html",
            summary:"Análisis de correo con macros maliciosas y extracción de indicadores."
          },
          {
            title:"86 - SOC141 - URL de Phishing Detectada",
            level:"Intermediate",
            date:"2025-11-21",
            link:"#",
            summary:"Validación de URL sospechosa, reputación y artefactos asociados."
          },
          {
            title:"82 - SOC140 - Correo de Phishing Detectado - Programador de Tareas Sospechoso",
            level:"Intermediate",
            date:"2025-11-21",
            link:"#",
            summary:"Identificación de persistencia vía Task Scheduler desde correo malicioso."
          },
          {
            title:"52 - SOC120 - Correo de Phishing Detectado - Interno a Interno",
            level:"Beginner",
            date:"2025-11-21",
            link:"#",
            summary:"Caso de phishing lateral dentro de la organización."
          },
          {
            title:"45 - SOC114 - Adjunto Malicioso Detectado - Alerta de Phishing",
            level:"Beginner",
            date:"2025-11-21",
            link:"#",
            summary:"Triage de adjunto malicioso y conclusión de contención."
          }
        ],
        WebAttacks: [
          {
            title:"115 - SOC165 - Posible carga útil de inyección SQL detectada",
            level:"Intermediate",
            date:"2025-11-21",
            link:"#",
            summary:"Detección de patrón SQLi en request y evaluación de impacto."
          },
          {
            title:"116 - SOC166 - Código Javascript detectado en la URL solicitada",
            level:"Intermediate",
            date:"2025-11-21",
            link:"#",
            summary:"Identificación de payload JS en URL; posible XSS / script injection."
          },
          {
            title:"118 - SOC168 - Comando Whoami detectado en el cuerpo de la solicitud",
            level:"Advanced",
            date:"2025-11-21",
            link:"#",
            summary:"Indicadores de ejecución remota vía comando en body."
          },
          {
            title:"117 - SOC167 - Comando ls detectado en la URL solicitada",
            level:"Advanced",
            date:"2025-11-21",
            link:"#",
            summary:"Señales de RCE/LFI y enumeración de directorios."
          },
          {
            title:"119 - SOC169 - Posible ataque IDOR detectado",
            level:"Intermediate",
            date:"2025-11-21",
            link:"#",
            summary:"Análisis de acceso directo inseguro a objetos (IDOR)."
          }
        ]
      },
      TryHackMe: { Phishing: [], WebAttacks: [] },
      BlueTeamLabs: { Phishing: [], WebAttacks: [] }
    };

    const platforms = document.querySelectorAll(".platform");
    const catButtons = document.querySelectorAll(".cat-btn");
    const categoriesBar = document.getElementById("categories");
    const labsTitle = document.getElementById("labsTitle");
    const labsCount = document.getElementById("labsCount");
    const labsGrid = document.getElementById("labsGrid");

    let activePlatform = "LetsDefend";
    let activeCat = "Phishing";

    function renderCategories(){
      if(activePlatform !== "LetsDefend"){
        categoriesBar.style.display = "none";
        return;
      }
      categoriesBar.style.display = "flex";
    }

    function renderLabs(){
      labsGrid.innerHTML = "";
      const list = (DATA[activePlatform] && DATA[activePlatform][activeCat]) || [];

      const platLabel =
        activePlatform === "LetsDefend" ? "LETSDEFEND" :
        activePlatform === "TryHackMe" ? "TRYHACKME" :
        "BLUE TEAM LABS";

      const catLabel = activeCat === "WebAttacks" ? "ATAQUES WEB" : "PHISHING";

      labsTitle.textContent = `LABORATORIOS – ${platLabel} · ${catLabel}`;
      labsCount.textContent = `${list.length} labs`;

      if(!list.length){
        labsGrid.innerHTML = `<div class="empty">Próximamente. Aún no hay laboratorios aquí.</div>`;
        return;
      }

      list.forEach(l=>{
        labsGrid.innerHTML += `
          <a class="lab-link" href="${l.link}" target="_blank" rel="noopener">
            <div class="lab-card">
              <div class="lab-top">
                <div class="lab-track">${catLabel}</div>
                <div class="lab-level">${l.level}</div>
              </div>
              <div class="lab-title">${l.title}</div>
              <div class="lab-summary">${l.summary || ""}</div>
              <div class="lab-cta">Abrir reporte →</div>
              <div class="lab-date">${new Date(l.date).toLocaleDateString()}</div>
            </div>
          </a>
        `;
      });
    }

    platforms.forEach(p=>{
      p.addEventListener("click", ()=>{
        platforms.forEach(x=>x.classList.remove("active"));
        p.classList.add("active");
        activePlatform = p.dataset.platform;

        activeCat = "Phishing";
        catButtons.forEach(b=>b.classList.remove("active"));
        catButtons[0].classList.add("active");

        renderCategories();
        renderLabs();
      });
    });

    catButtons.forEach(btn=>{
      btn.addEventListener("click", ()=>{
        if(activePlatform !== "LetsDefend") return;
        catButtons.forEach(b=>b.classList.remove("active"));
        btn.classList.add("active");
        activeCat = btn.dataset.cat;
        renderLabs();
      });
    });

    // ===== Fondo animado (NO TOCAR) =====
    (function(){
      const ctx = document.getElementById('bg-canvas').getContext('2d');
      let dpr = Math.max(1, devicePixelRatio||1);
      const N=90, SPEED=.35, LINK=150;

      function size(){
        const cv=document.getElementById('bg-canvas');
        cv.width=Math.floor(innerWidth*dpr);
        cv.height=Math.floor(innerHeight*dpr);
        cv.style.width='100%';
        cv.style.height='100%';
        ctx.setTransform(dpr,0,0,dpr,0,0);
      }
      addEventListener('resize', size); size();

      const pts = Array.from({length:N},()=>({
        x:Math.random()*innerWidth,
        y:Math.random()*innerHeight,
        vx:(Math.random()*2-1)*SPEED,
        vy:(Math.random()*2-1)*SPEED,
        r:1.8+Math.random()*1.6
      }));

      function tick(){
        ctx.clearRect(0,0,innerWidth,innerHeight);
        for(let i=0;i<N;i++){
          for(let j=i+1;j<N;j++){
            const a=pts[i],b=pts[j];
            const dx=a.x-b.x,dy=a.y-b.y,d=Math.hypot(dx,dy);
            if(d<LINK){
              const al=1-d/LINK;
              ctx.strokeStyle=`rgba(45,227,156,${0.18*al})`;
              ctx.beginPath(); ctx.moveTo(a.x,a.y); ctx.lineTo(b.x,b.y); ctx.stroke();
            }
          }
        }
        ctx.fillStyle='#2de39c';
        for(const p of pts){
          p.x+=p.vx; p.y+=p.vy;
          if(p.x<-10)p.x=innerWidth+10;
          if(p.x>innerWidth+10)p.x=-10;
          if(p.y<-10)p.y=innerHeight+10;
          if(p.y>innerHeight+10)p.y=-10;
          ctx.beginPath(); ctx.arc(p.x,p.y,p.r,0,Math.PI*2); ctx.fill();
        }
        requestAnimationFrame(tick);
      }
      tick();
    })();

    renderCategories();
    renderLabs();
  </script>

</body>
</html>
